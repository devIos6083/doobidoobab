# 📌 진행 상황

| 날짜           | 작업 내용                                                                                     |
|----------------|--------------------------------------------------------------------------------------------|
| **2025. 3.28** | 프로젝트 초기화 및 환경 세팅, 사용자 정보 관리 서비스 구현                                   |
| **2025. 3.29** | 메인 화면 및 출석 체크 시스템 구현, 그림 그리기 기능 개발 및 최적화                           |
| **2025. 4. 2** | **오늘의 게임 구현**: 여러 게임(이미지 매칭, 뜻 매칭, 단어 연결, 그림 그리기)을 랜덤하게 배치하여 진행  
                - 단어 학습 게임 로직 구현  
                - 각 게임의 UI 구성 및 애니메이션 적용  
                - 단어 연결 게임의 경우, 자동 연결에서 수동 연결 방식으로 전환하여 사용자 선택 기반으로 연결하도록 개선  
                - 코드 분량이 많아져 리펙토링의 필요성을 절감  
                - 그린 그림 저장 기능과 단어 연결 정답 판별 로직은 아직 미해결 상태 |
| **2025. 4.13** |  
                - 앱이 백그라운드 상태로 전환되었을 때, **오늘의 단어 학습을 하지 않은 경우 알림이 울리도록 구현**하여 사용자 동기부여 강화  
                - 전체 앱 구조를 **MVVM 아키텍처 패턴으로 전면 리팩토링**하여 유지보수성과 가독성 향상  
                - **오늘의 단어 게임에서 사용자가 그린 5개의 그림을 로컬에 저장**하고, 결과 화면에서 다시 보여주는 기능 구현  
                - **총 15개의 단어 중 사용자가 몇 개를 맞췄는지 통계 표시 기능** 추가  
                - **단어 연결 게임에서 연결은 되지만 다음 단계로 넘어가지 않던 버그 해결**

---

# 📌 트러블 슈팅

### 🔹 문제 1: 그림 그리기 시 선이 자연스럽게 그려지지 않는 문제
- **원인:** 단순 선 연결 방식 사용, Paint 스타일 명시 부족
- **해결:** 베지어 곡선(Bezier curve) 알고리즘 적용, Paint의 스타일을 `stroke`로 명시하여 자연스러운 선 구현

### 🔹 문제 2: 사용자 연속 출석 기록 저장 문제
- **원인:** 날짜 비교 로직의 불완전성
- **해결:** ISO 8601 형식의 날짜 저장 및 `_daysBetween` 함수 구현으로 정확한 출석일 계산 로직 개선

### 🔹 문제 3: 데이터베이스 마이그레이션 이슈
- **원인:** 스키마 변경으로 인한 기존 데이터 손실 위험
- **해결:** 안전한 마이그레이션 로직 및 트랜잭션 처리 구현으로 데이터 무결성 보장

### 🔹 문제 4: 오늘의 게임 구현 관련 미해결 사항
- **게임 순서 랜덤 배치:** 게임들이 랜덤으로 나타나게 하는 로직이 복잡해져서 코드가 길어지고, 리펙토링이 어려워졌음  
- **코드 분량:** 다양한 게임 기능(이미지 매칭, 뜻 매칭, 단어 연결, 그림 그리기)을 한 화면에 통합하면서 코드가 지나치게 길어져 유지보수 및 리펙토링이 어려워짐  
- **그림 저장 기능:** 사용자가 그린 그림을 저장하는 기능은 아직 구현하지 못했으며, 기능 확장이 시급함  
- **단어 연결 게임 판별:** 단어 연결 기능은 구현되었지만, 연결한 결과가 올바른지 판별하는 로직이 미완성 상태로, 빠른 시일 내에 해결해야 함

### 🔹 문제 5: 오늘의 단어 학습을 하지 않은 채 앱을 종료할 경우 학습 유도 부족
- **원인:** 백그라운드 전환 시 학습 여부 체크 로직 미구현
- **해결:** `WidgetsBindingObserver`를 활용하여 앱 상태 변화를 감지하고, 오늘의 학습이 완료되지 않았을 경우 알림 전송

### 🔹 문제 6: MVVM 구조로의 전환 과정에서 데이터 흐름 혼선
- **원인:** 기존 코드가 UI와 로직이 섞여 있어 구조 분리가 어려웠음
- **해결:** ViewModel을 통한 상태 관리 도입, Repository를 통해 데이터 접근 계층 분리

### 🔹 문제 7: 단어 그림 결과 저장 기능 누락
- **원인:** 그림 데이터를 로컬에 저장하는 로직 미비
- **해결:** `path_provider`와 `dart:io`를 활용하여 그림 파일을 로컬에 저장 후 결과 화면에서 로드하여 표시

### 🔹 문제 8: 단어 연결 게임 완료 후 다음 게임으로 넘어가지 않음
- **원인:** 연결 완료 상태를 감지하는 트리거가 누락됨
- **해결:** 연결 완료 후 상태를 감지하여 다음 스테이지로 전환하는 로직 추가

---

# 📌 구현 결과

### 앱 주요 화면

|                       화면                       |
|:---------------------------------------------:|
| ![앱 화면 예시](https://github.com/user-attachments/assets/00c78a22-d658-40e8-9767-993435ba1aec) |

---

# 📌 학습한 내용

### ✅ 1. 컴퓨터 그래픽스 개념 적용
- 베지어 곡선을 이용한 자연스러운 그림 그리기 구현
- CustomPainter를 활용한 효율적인 Canvas 그리기 기법 습득

### ✅ 2. 상태 관리 및 생명주기 이해
- StatefulWidget의 생명주기와 setState를 통한 UI 업데이트 최적화
- 애니메이션 컨트롤러 사용으로 동적인 UI 구현 경험

### ✅ 3. 데이터 지속성 구현
- sqflite를 이용한 로컬 데이터베이스 설계 및 구현
- 싱글톤 패턴을 활용한 데이터베이스 서비스 구조화

### ✅ 4. 다양한 애니메이션 효과 적용
- 연속 출석, 컨페티 효과 등 다양한 애니메이션을 통해 사용자 경험 향상
- 애니메이션과 UI 요소의 통합 방법 학습

### ✅ 5. 코드 모듈화 및 재사용성 향상
- 기능별 파일 분리와 컴포넌트 설계로 유지보수성 및 확장성 향상
- 여러 게임 기능을 통합하는 과정에서의 코드 구조화 노하우 습득
---

# 📌 느낀 점

- **사용자 동기부여의 중요성:** 단순히 게임을 제공하는 것이 아니라, 학습을 유도할 수 있는 장치(예: 알림)를 마련하는 것이 효과적임을 느낌  
- **구조화된 개발의 필요성:** MVVM으로 구조를 재설계하면서 확실히 유지보수 및 테스트가 수월해졌고, 향후 확장성에도 유리함  
- **데이터 저장의 중요성:** 사용자의 활동(그림 등)을 저장하고 다시 보여주는 기능은 학습 몰입도를 높이는 데 매우 유용함  
- **버그 해결의 뿌듯함:** 단어 연결 게임의 흐름 문제를 해결하면서 UI/UX 흐름이 더 매끄러워졌고, 사용자 만족도를 높일 수 있었음
- **세부 사항의 중요성:** 그림 그리기와 같은 인터랙티브 기능에서는 세밀한 터치와 사용자 경험이 매우 중요함을 깨달음  
- **리펙토링의 어려움:** 게임 기능들이 랜덤으로 배치되고 다양한 UI 요소가 포함되면서 코드의 길이가 길어지고, 이를 효율적으로 리펙토링하는 것이 큰 도전이었음  
- **실제 사용자 관점:** 기능 구현뿐만 아니라, 사용자 입장에서 자연스럽고 직관적인 인터페이스를 제공하기 위한 고민이 많았음  
- **문제 해결의 지속성:** 아직 미해결된 그림 저장 기능과 단어 연결 정답 판별 로직 등, 해결해야 할 과제가 남아있어 개발자로서 지속적으로 개선해 나가야 함을 느꼈음
---

# 📌 향후 계획

- **그림 인식 AI 통합:** 그림 평가 로직에 실제 ML 모델 적용하여 정확한 그림 인식 및 저장 기능 구현
- **게임 순서 리팩토링:** 각 게임(이미지 매칭, 뜻 매칭, 단어 연결, 그림 그리기)의 랜덤 배치 로직을 간소화하고, 코드 모듈화 및 재사용성을 높여 유지보수 용이성 확보
- **단어 연결 정답 판별 기능 개선:** 현재 연결 상태에 따른 정답 판별 로직을 보완하여, 사용자에게 피드백을 즉각적으로 제공할 수 있도록 개선
- **다국어 지원 확대:** 영어, 중국어 등 다양한 언어 학습 지원 기능 추가
- **학습 분석 기능 추가:** 학습 패턴, 정답률, 학습 시간 등 통계 분석을 통해 사용자 맞춤형 피드백 제공
- **클라우드 동기화:** 여러 기기에서 학습 데이터 동기화 기능 구현하여 사용자 편의성 증대
- **학부모 모드 개발:** 학습 진행 상황과 성취도를 확인할 수 있는 학부모용 대시보드 추가
